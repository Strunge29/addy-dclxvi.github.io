<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Using Conky to Generate Lemonbar Statusline - Addy&#39;s Blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Addy" /><meta name="description" content="A guide about how to use Conky to generate statusline for Lemonbar" />
<meta name="keywords" content="linux, ricing, lemonbar, conky, panel, statusbar, statusline" />







<meta name="generator" content="Hugo 0.51" />


<link rel="canonical" href="https://addy-dclxvi.github.io/post/lemonbar-conky/" />



<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.aaf3394fc81ccb6f6fe3fe458d1f5b61c39f151e44df83baaf1d7b3775a8b98d.css" integrity="sha256-qvM5T8gcy29v4/5FjR9bYcOfFR5E34O6rx17N3WouY0=" media="screen">




<link rel="stylesheet" href="/css/custom.css">


<meta property="og:title" content="Using Conky to Generate Lemonbar Statusline" />
<meta property="og:description" content="A guide about how to use Conky to generate statusline for Lemonbar" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://addy-dclxvi.github.io/post/lemonbar-conky/" /><meta property="article:published_time" content="2018-12-19T17:18:27&#43;07:00"/>
<meta property="article:modified_time" content="2019-01-11T19:20:27&#43;07:00"/>

<meta itemprop="name" content="Using Conky to Generate Lemonbar Statusline">
<meta itemprop="description" content="A guide about how to use Conky to generate statusline for Lemonbar">


<meta itemprop="datePublished" content="2018-12-19T17:18:27&#43;07:00" />
<meta itemprop="dateModified" content="2019-01-11T19:20:27&#43;07:00" />
<meta itemprop="wordCount" content="1514">



<meta itemprop="keywords" content="linux,ricing,lemonbar,conky,panel," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Using Conky to Generate Lemonbar Statusline"/>
<meta name="twitter:description" content="A guide about how to use Conky to generate statusline for Lemonbar"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-130181389-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-6181431244839964",
enable_page_level_ads: true
});
</script>





</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Addy&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/index.html">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/about/">About</a>
          
        
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Addy's Blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/index.html">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://addy-dclxvi.github.io/about/">About</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Using Conky to Generate Lemonbar Statusline</h1>
      
      <div class="post-meta">
        <time datetime="2018-12-19" class="post-time">
          Wednesday, 19 Dec 2018
        </time>
        <div class="post-category">
            <a href="https://addy-dclxvi.github.io/categories/linux/"> Linux </a>
            
          </div>
        <span class="more-meta"> 1514 words </span>
          <span class="more-meta"> 8 min read </span>

        
        

        
        
      </div>
    </header>

    
    

    
    <div class="post-content">
      

<h2 id="introduction">Introduction</h2>

<p>According to its GitHub page, Lemonbar (formerly known as bar) is a lightweight bar entirely based
on XCB. Provides full UTF-8 support, basic formatting, RandR and Xinerama support and EWMH
compliance without wasting your precious memory. I use Debian, and Lemonbar is available in Debian
repository since Stretch, so just install it normally.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sudo apt-get install lemonbar</code></pre></td></tr></table>
</div>
</div>
<p>It just a bar. It doesn&rsquo;t come with any module like in Polybar by default. To make it shows
the content we want, we have to create the text of it then pipe it to Lemonbar. For example, If
you want to display &ldquo;abcdef&rdquo; text in Lemonbar, you have to do:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">echo</span> <span class="s2">&#34;abcdef&#34;</span> <span class="p">|</span> lemonbar -p</code></pre></td></tr></table>
</div>
</div>
<p>Then it will show a bar with &ldquo;abcdef&rdquo; text in your desktop</p>

<div class="shortcode-notice info">
  <div class="shortcode-notice-title info">
    
      info
    
  </div>
  <p><code>-p</code> flag means don&rsquo;t close the bar after the stdin is closed</p>

</div>


<p>Want it to show the time? You have to do:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">date +<span class="s2">&#34;%a %-d %b at %H:%M:%S&#34;</span> <span class="p">|</span> lemonbar -p</code></pre></td></tr></table>
</div>
</div>
<p>But you will notice that the second is not moving. To make it updated, we have to create infinity
loops. I don&rsquo;t know how to do it with fish, my default shell. So, I use bash.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="k">while</span> true<span class="p">;</span> <span class="k">do</span> date +<span class="s2">&#34;%a %-d %b at %H:%M:%S&#34;</span><span class="p">;</span> sleep <span class="m">1</span><span class="p">;</span> <span class="k">done</span> <span class="p">|</span> lemonbar</code></pre></td></tr></table>
</div>
</div>
<div class="shortcode-notice info">
  <div class="shortcode-notice-title info">
    
      info
    
  </div>
  <p>Because it&rsquo;s infinity loops, Lemonbar wouldn&rsquo;t be closed even though without <code>-p</code> flag</p>

</div>


<p>Lemonbar itself very lightweight, the resource usage depends on the shell script you made.
The example above only executing a shell script to display the time, so it won&rsquo;t cause any
noticeable CPU load. But when I tried to create a shell script to display clock, current track of
ncmpcpp, wifi ssid, alsa  volume, and some other items with spamming <em>cat</em>, <em>grep</em>, <em>awk</em>, <em>print</em>,
<em>head</em>, <em>tail</em>, and <em>sed</em>, both CPU &amp; RAM usage increased, which is defeating the purpose of
using a featherweight bar. So, I try to replace the shell script with Conky. Despite it has a lot
of limitations, I&rsquo;m quite happy with the results.</p>

<h2 id="configuring-conky">Configuring Conky</h2>

<p>Install it first of course.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">sudo apt-get install conky</code></pre></td></tr></table>
</div>
</div>
<p>Conky configuration is placed in <strong>~/.conkyrc</strong> file. Remember that we will use Conky to replace
the <code>echo</code> of shell script. So, we have to send the output of Conky to stdout instead of X like
how Conky commonly used. Don&rsquo;t forget to set the interval too, to replace <code>sleep</code> from the shell
script.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky">conky.config = { 
    out_to_x = false,
    out_to_console = true,
    update_interval = 1,
}</code></pre></td></tr></table>
</div>
</div>
<p>Then we add some text. Time and wifi ssid for example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky">conky.config = { 
    out_to_x = false,
    out_to_console = true,
    update_interval = 1,
}

conky.text = [[
${time %a %-d %b at %H:%M} ${wireless_essid}
]]</code></pre></td></tr></table>
</div>
</div>
<p>Pipe the Conky output to Lemonbar.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">conky <span class="p">|</span> lemonbar</code></pre></td></tr></table>
</div>
</div>
<h2 id="eye-candy">Eye Candy</h2>

<p>I know you will be complaining about it looks ugly. So, we will deuglify it. First, I use fonts
from <a href="/post/bitmap-fonts/">this post</a>, so please get them. Don&rsquo;t forget to read the explanation
too. Next, we will pimp the Conky with more
<a href="http://conky.sourceforge.net/variables.html">Conky Objects</a>,
<a href="https://github.com/LemonBoy/bar#options">Lemonbar Options</a>,
and
<a href="https://github.com/LemonBoy/bar#formatting">Lemonbar Formatting</a>.
Because we will launch Lemonbar with long options. It would be wise to create a new file to make it
less messy. Save this file anywhere you want and mark it as executable. I personally save it in
<strong>~/.scripts/lemonconky</strong>. Then <code>chmod +x ~/.scripts/lemonconky</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span>conky <span class="p">|</span> lemonbar <span class="se">\
</span><span class="se"></span>-f -*-rissole-* <span class="se">\
</span><span class="se"></span>-f -*-waffle-* <span class="se">\
</span><span class="se"></span>-g x28 <span class="se">\
</span><span class="se"></span>-B <span class="s2">&#34;#141c21&#34;</span> <span class="se">\
</span><span class="se"></span>-F <span class="s2">&#34;#93a1a1&#34;</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li><code>#!/bin/bash</code> is the shell intepreter, to make this script executed by bash instead of default
shell. You can change it to <code>#!/bin/dash</code> to decrease the resource usage.</li>
<li>I use backslash to prevent linebreak, because it actually a oneliner script.</li>
<li><code>-f</code> is load the font.</li>
<li><code>-g</code> is the geometry, 28 pixels height.</li>
<li><code>-B</code> is the default background color, black.</li>
<li><code>-F</code> is the default foreground color, white.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky">conky.config = { 
    out_to_x = false,
    out_to_console = true,
    update_interval = 1,
}

conky.text = [[
%{l}\
%{B\#d12f2c}%{F\#141c21}  %{B-}%{F-}\
%{B\#263640} ${mpd_smart 40} %{B-}\
%{c}\
${time %a %-d %b at %H:%M}\
%{r}\
%{B\#263640}  ${wireless_essid} %{B-}\
%{B\#2587cc}%{F\#141c21}  ${pa_sink_volume}% %{B-}%{F-}\
]]</code></pre></td></tr></table>
</div>
</div>
<p>Now let&rsquo;s go back to <strong>~/.conkyrc</strong> again. And have you read the the Lemonbar formatting options?
I use switch alignment and switch color formatting. The code inside <code>%{}</code> is Lemonbar formatting
and the code inside <code>${}</code> is Conky objects. Here is the detailed explanation of line number 8-15.</p>

<ul>
<li><strong>Line number 8 :</strong> Switch alignment to the left.</li>
<li><strong>Line number 9 :</strong> Switch background to red, foreground to black, display the music icon,
reset the background color, and reset the foreground color.</li>
<li><strong>Line number 10 :</strong> Switch background to gray, display the current playing mpd track (cut to 40
character if it too long), and reset the background color.</li>
<li><strong>Line number 11 :</strong> Switch alignment to the center.</li>
<li><strong>Line number 12 :</strong> Display the time.</li>
<li><strong>Line number 13 :</strong> Switch alignment to the right.</li>
<li><strong>Line number 14 :</strong> Switch background color to gray, display connectivity icon, display the
current ssid, and reset the background color.</li>
<li><strong>Line number 15 :</strong> Switch the background color to blue, foreground to black, display bell icon,
display the volume (PulseAudio default sink), reset the backgound color, and reset the foreground
color.</li>
</ul>

<p>I put backslash in the end of every line to prevent linebreak, because they have to be printed as
single line text. I also put backslash before &ldquo;#&rdquo; symbol in the color code, because &ldquo;#&rdquo; is the
code of <em>comment</em>. To print literal &ldquo;#&rdquo;, add backslash before it. And how much resource it takes?</p>


<link rel="stylesheet" href="/css/hugo-easy-gallery.css" />
<div class="box">
<figure  itemprop="associatedMedia"
  itemscope itemtype="http://schema.org/ImageObject" >
    <div class="img">
      <img itemprop="thumbnail" src="https://u.cubeupload.com/addy15/htop.png" />
    </div>
    <a href="https://u.cubeupload.com/addy15/htop.png" itemprop="contentUrl"></a>
  </figure>
</div>


<p>Average CPU load is zero to zero point three! By the way, I use an old CPU, only dual core 2GHz.
Can&rsquo;t afford a new one. When I used shell script to generate Lemonbar statusline with equivalent
items &amp; interval. The CPU usage was above 3%.</p>



<div class="box">
<figure  itemprop="associatedMedia"
  itemscope itemtype="http://schema.org/ImageObject" >
    <div class="img">
      <img itemprop="thumbnail" src="https://u.cubeupload.com/addy15/psmem.png" />
    </div>
    <a href="https://u.cubeupload.com/addy15/psmem.png" itemprop="contentUrl"></a>
  </figure>
</div>


<p>The RAM usage is less than 5MB! Do You want even less resources? Remove the lemonconky script,
and run the script directly.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">conky <span class="p">|</span> lemonbar -f -*-rissole-* -f -*-waffle-* -g x28 -B <span class="s2">&#34;#141c21&#34;</span> -F <span class="s2">&#34;#93a1a1&#34;</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="more-tricks">More Tricks</h2>

<h3 id="if-and-else">If And Else</h3>

<p>Do you know? Conky has <code>if</code> and <code>else</code> command. I use Audacious to double click mp3 file, because
<a href="/post/configuring-ncmpcpp/">ncmpcpp</a> can&rsquo;t do it. So, I want my Lemonbar display the Audacious
track when I play music using Audacious, display the ncmpcpp track when Audacious is not playing,
and display &ldquo;Music is not playing&rdquo; when both are stopped. And show &ldquo;Muted&rdquo; in the volume part of my
Lemonbar when I mute the volume. They are achieveable by utilizing <code>if</code> and <code>else</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky">conky.config = {
    out_to_x = false,
    out_to_console = true,
    update_interval = 1,
}

conky.text = [[
%{l}\
%{B\#d12f2c}%{F\#141c21}  %{B-}%{F-}\
%{B\#263640} ${if_running audacious}${audacious_title 40}${else}\
${if_running mpd}${mpd_smart 40}${else}Music Is Not Playing${endif}${endif} %{B-}\
%{c}\
${time %a %-d %b at %H:%M}\
%{r}\
%{B\#263640}  %{F-}${wireless_essid} %{B-}%{F-}\
%{B\#2587cc}%{F\#141c21}  ${if_pa_sink_muted}Muted${else}\
${pa_sink_volume}%${endif} %{B-}%{F-}\
]]</code></pre></td></tr></table>
</div>
</div>
<h3 id="clickable-area">Clickable Area</h3>

<p>I also want when I do left click in the volume part of my Lemonbar, Pavu Control launched.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-conky" data-lang="conky">conky.config = {
    out_to_x = false,
    out_to_console = true,
    update_interval = 1,
}

conky.text = [[
%{l}\
%{B\#d12f2c}%{F\#141c21}  %{B-}%{F-}\
%{B\#263640} ${if_running audacious}${audacious_title 40}${else}\
${if_running mpd}${mpd_smart 40}${else}Music Is Not Playing${endif}${endif} %{B-}\
%{c}\
${time %a %-d %b at %H:%M}\
%{r}\
%{B\#263640}  %{F-}${wireless_essid} %{B-}%{F-}\
%{B\#2587cc}%{F\#141c21}%{A:pavucontrol:}  ${if_pa_sink_muted}Muted${else}\
${pa_sink_volume}%${endif} %{B-}%{F-}%{A}\
]]</code></pre></td></tr></table>
</div>
</div>
<p>Weird thing, Lemonbar do <code>echo command</code> instead of <code>exec command</code> when the clickable area clicked.
So, to make it launch <code>pavucontrol</code>, I need to pipe Lemonbar stdout to the shell. Edit the
previous lemonconky script.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-dash" data-lang="dash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-dash" data-lang="dash">#!/bin/dash
conky | lemonbar \
-f -*-rissole-* \
-f -*-waffle-* \
-g x28 \
-B &#34;#141c21&#34; \
-F &#34;#93a1a1&#34; \
| sh</code></pre></td></tr></table>
</div>
</div>
<h3 id="notes">Notes</h3>

<ul>
<li>Conky has a lot of limitations, like can&rsquo;t display current workspace number. But I use Openbox.
The workspace indicator will be displayed as OSD when I switch the workspace.</li>
<li>Different distro could have different build options for Conky. Some of them were not built with
PulseAudio support. So, could not be used to display the Pulse Audio volume.</li>
<li>Debian provides several Conky packages with different build options. There are <code>conky-cli</code>,
<code>conky-std</code>, <code>conky</code>, and <code>conky-all</code>. You can switch to <code>conky-cli</code> to get even less resource
usage and filling your guilty pleasure of minimalism. But of course, the available Conky Objects
are reduced too.</li>
<li>The guide here is pretty basic. There are a lot of Conky and Lemonbar potentials those haven&rsquo;t
been unleashed. It&rsquo;s your task to explore them. Keep improving!</li>
</ul>



<div class="box">
<figure  itemprop="associatedMedia"
  itemscope itemtype="http://schema.org/ImageObject" >
    <div class="img">
      <img itemprop="thumbnail" src="https://u.cubeupload.com/addy15/whitewalls.png" />
    </div>
    <a href="https://u.cubeupload.com/addy15/whitewalls.png" itemprop="contentUrl"></a>
  </figure>
</div>




<div class="box">
<figure  itemprop="associatedMedia"
  itemscope itemtype="http://schema.org/ImageObject" >
    <div class="img">
      <img itemprop="thumbnail" src="https://u.cubeupload.com/addy15/whitewalls2.png" />
    </div>
    <a href="https://u.cubeupload.com/addy15/whitewalls2.png" itemprop="contentUrl"></a>
  </figure>
</div>


<p>Almost forgot to post the screenshot of my desktop. That&rsquo;s how my Lemonbar looks like. By the way
I listened to <a href="https://www.youtube.com/watch?v=ijFuvNz7ukk&amp;list=PLDAD8A6BDC7ED92A3">Colors</a>,
my favourite <strong>Between The Buried And Me</strong> album while writing this article. My favourite track
in this album is White Walls.</p>

<p>And as always, thanks for reading!</p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Addy</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">Friday, 11 Jan 2019</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    
<div class="post-reward">
	<input type="checkbox" name="reward" id="reward" hidden />
	<label class="reward-button" for="reward">Reward</label>
	<div class="qr-code">
		<label class="qr-code-image" for="reward">
            <script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'>
            </script>
            <script type='text/javascript'>
            kofiwidget2.init('Buy Me a Coffee', '#ff5f5f', 'J3J4MFOL');kofiwidget2.draw()
            </script> 
		</label>
	</div>
</div>


    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://addy-dclxvi.github.io/tags/linux/">linux</a>
          <a href="https://addy-dclxvi.github.io/tags/ricing/">ricing</a>
          <a href="https://addy-dclxvi.github.io/tags/lemonbar/">lemonbar</a>
          <a href="https://addy-dclxvi.github.io/tags/conky/">conky</a>
          <a href="https://addy-dclxvi.github.io/tags/panel/">panel</a>
          
        </div>

      
      <nav class="post-nav">
        
        
          <a class="next" href="/post/my-fluxbox/">
            <span class="next-text nav-default">My Fluxbox Configurations</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    Show Disqus Comments
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "https://addy-dclxvi.github.io/post/lemonbar-conky/";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'addy15';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>
  
    



        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
  
    <a href="mailto:addy4rock@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path
     d="M 702.29043,592.04719 403.05555,316.39902 c 0,-44.34435 31.98003,-46.23235 31.98003,-46.23235 h 181.59429 219.28801 180.04652 c 0,0 31.98,1.888 31.98,46.23235 L 750.25728,592.04719 c 0,0 -3.08902,1.73913 -7.99019,3.39029 v 0.006 c -5.39769,2.28048 -10.87924,3.02486 -15.98678,2.91659 -5.10751,0.10827 -10.58908,-0.63611 -15.98678,-2.91659 v -0.006 c -4.91407,-1.65792 -8.00309,-3.39029 -8.0031,-3.39029 z m 23.98342,61.46492 C 715.34299,653.23468 699.6335,649.07295 681.7314,632.79149 647.46844,601.62931 403.05555,370.32547 403.05555,370.32547 v 345.15911 c 0,0 0,38.34875 37.68731,38.34875 h 269.53776 31.98002 267.99006 c 37.6937,0 37.6937,-38.34875 37.6937,-38.34875 V 370.32547 c 0,0 -242.86512,231.30384 -277.12804,262.46601 -17.90214,16.28147 -33.61163,20.44996 -44.54251,20.72063 z"
     id="path2"
     inkscape:connector-curvature="0"
     style="stroke-width:0.46109414" />
</svg>

    </a>
  
    <a href="http://github.com/addy-dclxvi" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path
     d="m 725.50001,189.55556 c -178.15057,0 -322.44446,148.04014 -322.44446,330.63122 0,146.11147 92.38033,270.01552 220.47139,313.68638 16.12223,3.11342 22.03371,-7.10862 22.03371,-15.89784 0,-7.8525 -0.26871,-28.6547 -0.40305,-56.20732 C 555.4643,781.71609 536.54755,717.40832 536.54755,717.40832 521.87633,679.24797 500.6756,669.0535 500.6756,669.0535 c -29.20809,-20.49913 2.25711,-20.08585 2.25711,-20.08585 32.3788,2.31442 49.38776,34.05503 49.38776,34.05503 28.75127,50.55902 75.47886,35.95614 93.91193,27.49749 2.90201,-21.38083 11.20494,-35.95614 20.42148,-44.22192 -71.60953,-8.26579 -146.87344,-36.70007 -146.87344,-163.38693 0,-36.09392 12.49471,-65.57521 33.1849,-88.71938 -3.6275,-8.34844 -14.51001,-41.96263 2.82138,-87.50707 0,0 27.00473,-8.87194 88.67223,33.8897 25.79556,-7.35655 53.20335,-10.99348 80.61113,-11.1588 27.40776,0.16532 54.81554,3.80225 80.61111,11.1588 61.26443,-42.76164 88.26917,-33.8897 88.26917,-33.8897 17.33137,45.54444 6.44887,79.15863 3.22443,87.50707 20.55583,23.14417 33.05055,52.62546 33.05055,88.71938 0,127.0175 -75.37138,154.98337 -147.11527,163.11141 11.28555,9.91891 21.765,30.19763 21.765,61.16676 0,44.24948 -0.40307,79.79235 -0.40307,90.53786 0,8.67897 5.64281,19.01126 22.16808,15.70499 129.00463,-43.3678 221.30432,-167.35452 221.30432,-313.24556 0,-182.59108 -144.37446,-330.63122 -322.4444,-330.63122"
     id="path2"
     inkscape:connector-curvature="0"
     style="stroke-width:0.63771909" />
</svg>

    </a>


<a href="https://addy-dclxvi.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path
     d="m 675.81724,785.06666 c 0,-239.68427 -197.19964,-436.90667 -436.88391,-436.90667 V 238.93333 c 299.57689,0 546.13333,246.55644 546.13333,546.13333 z M 313.82187,635.22133 a 75.093333,75.093333 0 0 1 74.93404,74.97955 75.1616,75.1616 0 0 1 -75.11609,74.86578 c -41.25582,0 -74.70649,-33.54169 -74.70649,-74.86578 0,-41.32409 33.56445,-74.9568 74.88854,-74.97955 z M 600.95146,785.06666 H 494.7968 c 0,-140.37902 -115.48445,-255.88622 -255.86347,-255.88622 V 423.02577 c 198.58773,0 362.01813,163.47591 362.01813,362.04089 z"
     id="path2"
     inkscape:connector-curvature="0"
     style="stroke-width:0.53333336" />
</svg>

  </a>
  
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2018 -
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Addy
        
      </span></span>

  
  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ="></script>






  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  













</body>
</html>
